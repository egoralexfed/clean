<div class="view-tabs">
  <div class="view-tab" data-tab="map-view">На карте</div>
  <div class="view-tab" data-tab="list-view">Списком</div>
</div>

<div id="map-view" class="tab-content">
  <iframe src="https://yandex.ru/map-widget/v1/?um=constructor%3A8ec6c519b26e079ee5796b0539bcb78d24a8a59a2ff7c8718cfb1ddbeef5e464&amp;source=constructor" frameborder="0" style="width:100%;height:100%;border:0;"></iframe>
</div>

<div id="list-view" class="tab-content">
  <!-- список заказов как раньше -->
</div>

<style>
  .view-tabs {
    display: flex;
    background: var(--secondary-bg-color);
    border-bottom: 1px solid #e0e0e0;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  }
  .view-tab {
    flex: 1;
    text-align: center;
    padding: 12px 0;
    font-size: 14px;
    font-weight: 500;
    color: #888;
    cursor: pointer;
    transition: background 0.2s;
  }
  .view-tab:hover {
    background: #f0f0f0;
  }
  .view-tab.active {
    color: var(--main-color);
    font-weight: bold;
    border-bottom: 2px solid var(--main-color);
    background: #fafafa;
  }
  .tab-content {
    display: none;
    height: calc(100vh - 180px);
    overflow-y: auto;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  }
  .tab-content.active {
    display: block;
  }
</style>

<script>
  function setActiveTab(tabName) {
    document.querySelectorAll('.view-tab').forEach(t => t.classList.remove('active'));
    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
    document.querySelector(`.view-tab[data-tab="${tabName}"]`)?.classList.add('active');
    document.getElementById(tabName)?.classList.add('active');
    localStorage.setItem('active_orders_tab', tabName);
  }

  document.querySelectorAll('.view-tab').forEach(tab => {
    tab.addEventListener('click', () => {
      setActiveTab(tab.dataset.tab);
    });
  });

  document.querySelectorAll('.take-btn')?.forEach(btn => {
    btn.addEventListener('click', function () {
      const title = this.closest('.order-card').querySelector('.order-title').textContent;
      alert(`Вы приняли заказ: ${title}`);
      this.textContent = '✅ Принято';
      this.disabled = true;
      this.style.background = '#4CAF50';
    });
  });

  const lastTab = localStorage.getItem('active_orders_tab') || 'map-view';
  setActiveTab(lastTab);
</script>
